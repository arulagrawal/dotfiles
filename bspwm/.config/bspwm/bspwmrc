#!/bin/bash
#  ██                                            
# ░██              ██████                        
# ░██       ██████░██░░░██ ███     ██ ██████████ 
# ░██████  ██░░░░ ░██  ░██░░██  █ ░██░░██░░██░░██
# ░██░░░██░░█████ ░██████  ░██ ███░██ ░██ ░██ ░██
# ░██  ░██ ░░░░░██░██░░░   ░████░████ ░██ ░██ ░██
# ░██████  ██████ ░██      ███░ ░░░██ ███ ░██ ░██
# ░░░░░   ░░░░░░  ░░      ░░░    ░░░ ░░░  ░░  ░░ 


bspc monitor HDMI-0 -d 一 二 三 四 五 六 七 八 九
bspc monitor eDP-1-1 -d 一 二 三 四 五 六 七 八 九

xrdb ~/.Xresources
#background=$(xrdb -query | grep "background" | cut -f2 | sed -r 's/#//' | head -n 1)
#foreground=$(xrdb -query | grep "foreground" | cut -f2 | sed -r 's/#//' | head -n 1)
mapfile -t colors < <( xrdb -query | grep color | cut -f2 | head -n 16 | sed -r 's/#//' )

bspc config border_width         2
bspc config window_gap           8

bspc config split_ratio             0.50
bspc config borderless_monocle      true
bspc config gapless_monocle         true
bspc config focus_follows_pointer   true
bspc config pointer_follows_monitor true

bspc config normal_border_color     "#${colors[8]}"
bspc config active_border_color     "#${colors[8]}"
bspc config focused_border_color    "#${colors[4]}"
bspc config presel_feedback_color   "#${colors[1]}"

# window rules
bspc config external_rules_command ~/.config/bspwm/bspwm-rules #most of the rules are in here

# Autostart
nitrogen --restore
~/scripts/bspwm/desktop.sh &
~/scripts/bspwm/defaultsetup.sh &

dunstify -u critical "system" "everything is up and running"
